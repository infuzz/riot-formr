{"version":3,"file":"demo-riot-formr.js","sources":["../src/formr.riot","../src/ialert.riot","../src/ibutton.riot","../src/icheckbox.riot","../src/icolorpicker.riot","../src/idatetimepicker.riot","../src/ihr.riot","../src/iradio.riot","../src/irange.riot","../src/irow.riot","../src/iselect.riot","../src/itext.riot","../src/itexteditor.riot","../src/jlabel.riot","../src/jtooltip.riot","../src/formr.js","../src/iimagepicker.riot","../src/ihidden.riot","../src/ipassword.riot","../src/jaddon.riot","../src/jhelp.riot","../src/jicon.riot","../src/demo.js","../src/app.riot"],"sourcesContent":["<formr>\r\n    <form name={props.id} onchange={validate} oninput={validate} novalidate>\r\n        <button type=\"button\" onclick={er}>Go</button>\r\n        <button type=\"button\" onclick={seter}>set</button>\r\n        <div each={ (field, i) in state.desc }>\r\n            <div class=\"form-group\" name=\"fgroup_{field.id || i}\">\r\n                <div is={'i'+callType(field.type)} field={checkField(field,i)} attr={state.attr} index={i}></div>\r\n            </div>\r\n        </div>\r\n    </form>\r\n    <script>\r\n        export default {\r\n            checkField(field, i) {\r\n                field.id = field.id || 'ffield' + i\r\n                return field\r\n            },\r\n            onBeforeMount() {\r\n                //console.log(window)\r\n                this.state.desc = window.fields[this.props.id].desc\r\n                this.state.attr = window.fields[this.props.id].attr\r\n                this.state.attr.id = this.props.id\r\n            },\r\n            onMounted() {\r\n                this.ctrlRun(this.props.id)\r\n            },\r\n            callType(type) {\r\n                let types = ['textarea', 'date', 'color', 'datetime', 'datetime-local', 'email', 'month', 'number', 'tel', 'time', 'url', 'week']\r\n                if (types.indexOf(type) > -1) return 'text'\r\n                else return type\r\n            },\r\n            click() {\r\n                this.fields.push({\r\n                    type: 'text',\r\n                    size: 10,\r\n                    value: 'First item'\r\n                })\r\n                this.update()\r\n            },\r\n            validate(ev) {\r\n                //console.log('validation', ev)\r\n                let targetForm = ev.target.closest(\"form\")\r\n                this.ctrlRun(targetForm.name)\r\n                let invalidFeedback = '<i class=\"text-danger fas fa-times fa-fw mx-2\" aria-hidden=\"true\"></i>'\r\n                let invalidFeedbackMsg = '<i class=\"text-danger fas fa-exclamation-triangle fa-fw mx-2\" aria-hidden=\"true\"></i>'\r\n                let validFeedback = '<i class=\"text-success fas fa-check fa-fw mx-2\" aria-hidden=\"true\"></i>'\r\n                let feedBackElt = ev.target.closest(\".form-group\").querySelector(\".inputFeedback\")\r\n                let feedBackMsgElt = ev.target.closest(\".form-group\").querySelector(\".inputFeedbackMsg\")\r\n                let field = ev.target\r\n                let validity = ev.target.validity\r\n                if (!validity) return\r\n                let isValid = validity.valid\r\n\r\n                let msgs = []\r\n                let msg = ''\r\n                if (field.disabled || field.type == 'file') return\r\n                if (validity.valueMissing) msgs.push('valueMissing')\r\n                if (validity.typeMismatch && field.type == 'email') msgs.push('invalid email')\r\n                if (validity.typeMismatch && field.type == 'url') msgs.push('invalid URL')\r\n                if (validity.tooShort) msgs.push('Lengthen this text to ' + field.minLength + ' characters or more. You are currently using ' + field.value.length + ' characters')\r\n                if (validity.tooLong) msgs.push('Shorten this text to no more than ' + field.maxLength + ' characters. You are currently using ' + field.value.length + ' characters')\r\n                if (validity.badInput) msgs.push('invalid number')\r\n                if (validity.stepMismatch) msgs.push('invalid step')\r\n                if (validity.rangeOverflow) msgs.push('Select a value that is no more than ' + field.max)\r\n                if (validity.rangeUnderflow) msgs.push('Select a value that is no less than ' + field.min)\r\n                if (validity.patternMismatch && field.getAttribute('patternInfo')) msgs.push(field.getAttribute('patternInfo')) // If pattern info is included, return custom error\r\n                if (validity.patternMismatch && !field.getAttribute('patternInfo')) msgs.push(\"Didn't the requested format\")\r\n                let self = this\r\n                msgs.forEach(function(m) {\r\n                    msg += invalidFeedbackMsg + self.i18n(m) + '. '\r\n                })\r\n                // If all else fails, msg is a generic catchall error\r\n                if (!isValid && !msg) msg = 'The value you entered for this field is invalid. '\r\n                feedBackElt.innerHTML = (isValid ? validFeedback : invalidFeedback)\r\n                feedBackMsgElt.innerHTML = isValid ? '' : msg\r\n\r\n                //enable buttons with attributes 'waitValid' if all fields in the form is valid\r\n                let nbInvalidFields = targetForm.querySelectorAll('.form-control:invalid')\r\n                console.log(nbInvalidFields)\r\n                let nwaitValid = targetForm.querySelectorAll('[waitvalid]')\r\n                nwaitValid.forEach(function(e) {\r\n                    e.disabled = nbInvalidFields.length\r\n                })\r\n            },\r\n            ctrlRun(formName) {\r\n                let formElt, selector, node\r\n                formElt = document.getElementsByName(formName)[0]\r\n                formElt.querySelectorAll(\"input[ctrlChecked][ctrlUnchecked]\").forEach(function(elt) {\r\n                    elt.getAttribute(\"ctrlChecked\").split(',').forEach(function(name) {\r\n                        selector = '[name=fgroup_' + name + ']'\r\n                        node = formElt.querySelector(selector)\r\n                        if (elt.checked) node.classList.remove('hide')\r\n                        else node.classList.add('hide')\r\n                    })\r\n                    elt.getAttribute(\"ctrlUnchecked\").split(',').forEach(function(name) {\r\n                        selector = '[name=fgroup_' + name + ']'\r\n                        node = formElt.querySelector(selector)\r\n                        if (elt.checked) node.classList.add('hide')\r\n                        else node.classList.remove('hide')\r\n                    })\r\n                })\r\n            },\r\n            er() {\r\n                console.log(getFormValues('form1'))\r\n            },\r\n            seter() {\r\n                console.log(setFormValues('form1', data))\r\n            }\r\n        }\r\n\r\n    </script>\r\n    <style>\r\n        .out {\r\n            -webkit-transition: height 1s;\r\n            -moz-transition: height 1s;\r\n            -ms-transition: height 1s;\r\n            -o-transition: height 1s;\r\n            transition: height 1s;\r\n            height: 0;\r\n        }\r\n\r\n        /*-- redefine some bootstrap style --*/\r\n        .hide,\r\n        .form-inline .hide {\r\n            display: none;\r\n        }\r\n\r\n        .form-group {\r\n            margin-bottom: 1.5rem;\r\n            /*bottom margin after each field*/\r\n        }\r\n\r\n\r\n        label {\r\n            font-size: 1.1rem;\r\n            font-weight: 500;\r\n        }\r\n\r\n        button:disabled {\r\n            cursor: not-allowed;\r\n        }\r\n\r\n        button:focus,\r\n        input:focus,\r\n        textarea:focus {\r\n            outline: none !important;\r\n            border-color: #719ECE !important;\r\n            box-shadow: 0 0 10px #719ECE !important;\r\n        }\r\n\r\n        .fucfirst:first-letter {\r\n            text-transform: capitalize;\r\n        }\r\n\r\n        .input-group .input-group-append:last-child .btn:not(:last-child):not(.dropdown-toggle),\r\n        .input-group .input-group-append:last-child .input-group-text:not(:last-child),\r\n        .input-group .input-group-append:not(:last-child) .btn,\r\n        .input-group .input-group-append:not(:last-child) .input-group-text,\r\n        .input-group .input-group-prepend .btn,\r\n        .input-group .input-group-prepend .input-group-text {\r\n            border-top-right-radius: 0;\r\n            border-bottom-right-radius: 0;\r\n        }\r\n\r\n        .input-group .input-group-append .btn,\r\n        .input-group .input-group-append .input-group-text,\r\n        .input-group .input-group-prepend:first-child .btn:not(:first-child),\r\n        .input-group .input-group-prepend:first-child .input-group-text:not(:first-child),\r\n        .input-group .input-group-prepend:not(:first-child) .btn,\r\n        .input-group .input-group-prepend:not(:first-child) .input-group-text {\r\n            border-top-left-radius: 0;\r\n            border-bottom-left-radius: 0;\r\n        }\r\n\r\n\r\n        .input-group .input-group-append:last-child .btn:not(:last-child):not(.dropdown-toggle),\r\n        .input-group .input-group-append:last-child .input-group-text:not(:last-child),\r\n        .input-group .input-group-append:not(:last-child) .btn,\r\n        .input-group .input-group-append:not(:last-child) .input-group-text,\r\n        .input-group .input-group-prepend .btn,\r\n        .input-group .input-group-prepend .input-group-text {\r\n            border-top-right-radius: 0;\r\n            border-bottom-right-radius: 0;\r\n        }\r\n    </style>\r\n</formr>\r\n","<ialert>\r\n    <div class=\"alert alert-{props.field.color||'info'} {props.field.class}\" role=\"alert\">\r\n        <div>\r\n            <jicon field={props.field}></jicon> {i18n(props.field.message)}\r\n            <jtooltip tip={props.field.tip}></jtooltip>\r\n        </div>\r\n        <jhelp help={props.field.help}></jhelp>\r\n    </div>\r\n    <style>\r\n        .alert div {\r\n            font-size: 2rem;\r\n        }\r\n    </style>\r\n</ialert>\r\n","<ibutton>\r\n    <button { ...props.field } type=\"button\" class=\"btn btn-{props.field.color?props.field.color:'outline-primary'} {props.field.class}\" style=\"text-transform: capitalize;\" name={props.field.id} onclick={this[props.field.onclick]} id={} disabled={props.field.waitValid || props.field.disabled}>\r\n        <jicon field={props.field}></jicon> {i18n(props.field.title)}\r\n        <jtooltip tip={props.field.tip}></jtooltip>\r\n    </button>\r\n    <jhelp help={props.field.help}></jhelp>\r\n\r\n    <script>\r\n        export default {\r\n            click(ev) { //not used\r\n                action = ev.target.getAttribute('action')\r\n                param = ev.target.getAttribute('param')\r\n                console.log(action, param, this)\r\n                if (typeof action == \"function\") action(event, param)\r\n                if (typeof this[action] == \"function\") this[action](event, param)\r\n            },\r\n            dosomething(ev, param) //test action\r\n            {\r\n                alert('dosomething')\r\n            }\r\n        }\r\n\r\n    </script>\r\n</ibutton>\r\n","<icheckbox>\r\n    <jlabel field={props.field}></jlabel>\r\n    <jtooltip tip={props.field.tip}></jtooltip>\r\n    <jhelp help={props.field.help}></jhelp>\r\n    <span class=\"inputFeedback\"></span>\r\n    <small class=\"inputFeedbackMsg\"></small>\r\n    <div class=\"aaad-inline\">\r\n        <template each={ option in props.field.opts }>\r\n            <div class=\"row\">\r\n                <div if={option.uncheckedLabel} class=\"fucfirst col-auto mb-2\">{i18n(option.uncheckedLabel)}</div>\r\n                <div class=\"col-auto\">\r\n                    <label class=\"ucfirst {props.field.type=='switch' ?'fswitch':'fcheck'}\">\r\n                        <span if={!option.checkedLabel} class=\"mr-1\"> {i18n(option.label)}</span>\r\n                        <jtooltip if={!option.checkedLabel} tip={option.tip}></jtooltip>\r\n                        <jhelp if={!option.checkedLabel} help={option.help}></jhelp>\r\n                        <input { ...props.field } type={\"checkbox\"} class=\"form-control\" checkedValue={option.checkedValue} unCheckedValue={option.uncheckedValue} checked={isChecked(option)} ctrlChecked={ctrlToString(option,'checked')} ctrlUnchecked={ctrlToString(option,'unchecked')} name={buildId(option)} id={}>\r\n                        <span class={props.field.type=='switch' ?'fswitchslider fswitchround':'fcheckmark'}></span>\r\n                    </label>\r\n                </div>\r\n                <div if={option.checkedLabel} class=\"fucfirst col-auto mb-2\">\r\n                    {i18n(option.checkedLabel)}\r\n                </div>\r\n                <div class=\"fucfirst col-auto mb-2\">\r\n                    <jtooltip if={option.checkedLabel} tip={option.tip}></jtooltip>\r\n                    <jhelp if={option.checkedLabel} help={option.help}></jhelp>\r\n                </div>\r\n            </div>\r\n        </template>\r\n    </div>\r\n    <script>\r\n        export default {\r\n            isChecked(option) {\r\n                return (option.checked || option.value == option.checkedValue || option.value == true)\r\n            },\r\n            ctrlToString(option, which) {\r\n                if (option.ctrl && option.ctrl[which]) return option.ctrl[which].join()\r\n                else return false\r\n            },\r\n            buildId(option) {\r\n                if (option.id) return this.props.field.id + '.' + option.id\r\n                else return this.props.field.id\r\n            }\r\n        }\r\n\r\n    </script>\r\n    <style>\r\n        /* Customize the label (the fswitch) */\r\n        .fswitch {\r\n            display: block;\r\n            position: relative;\r\n\r\n            padding-left: 3.2rem;\r\n            margin-bottom: 12px;\r\n            cursor: pointer;\r\n            -webkit-user-select: none;\r\n            -moz-user-select: none;\r\n            -ms-user-select: none;\r\n            user-select: none;\r\n        }\r\n\r\n        /* Hide the browser's default checkbox */\r\n        .fswitch input {\r\n            position: absolute;\r\n            opacity: 0;\r\n            cursor: pointer;\r\n            height: 0;\r\n            width: 0;\r\n        }\r\n\r\n        /* Create a custom checkbox */\r\n        .fswitchslider {\r\n            position: absolute;\r\n            top: 3px;\r\n            left: 0;\r\n            height: 1.5rem;\r\n            width: 2.75rem;\r\n            background-color: #eee;\r\n            -webkit-transition: .4s;\r\n            transition: .4s;\r\n\r\n        }\r\n\r\n        /* On mouse-over, add a grey background color */\r\n        .fswitch:hover input~.fswitchslider {\r\n            background-color: #ccc;\r\n        }\r\n\r\n        /* When the checkbox is checked, add a blue background */\r\n        .fswitch input:checked~.fswitchslider {\r\n            background-color: #2196F3;\r\n        }\r\n\r\n\r\n\r\n        .fswitchslider:before {\r\n            position: absolute;\r\n            content: \"\";\r\n            height: 1.35rem;\r\n            width: 1.35rem;\r\n            left: 0.1rem;\r\n            bottom: 0.1rem;\r\n            background-color: white;\r\n            -webkit-transition: .4s;\r\n            transition: .4s;\r\n        }\r\n\r\n\r\n        .fswitch input:checked~.fswitchslider {\r\n            background-color: blue;\r\n        }\r\n\r\n        .fswitch input:checked~.fswitchslider:before {\r\n            background-image: radial-gradient(#ffffff, rgb(210, 210, 210));\r\n        }\r\n\r\n\r\n        .fswitch input:focus~.fswitchslider {\r\n            --box-shadow: 0 0 1px var(--navBarBg-backgroundColor);\r\n            box-shadow: 0 0 4px blue;\r\n        }\r\n\r\n        .fswitch input:checked~.fswitchslider:before {\r\n            -webkit-transform: translateX(1.25rem);\r\n            -ms-transform: translateX(1.25rem);\r\n            transform: translateX(1.25rem);\r\n        }\r\n\r\n        .fswitch input[disabled]~.fswitchslider {\r\n            opacity: 0.5;\r\n            cursor: not-allowed;\r\n        }\r\n\r\n\r\n        .fswitchround {\r\n            border-radius: 3.4rem;\r\n        }\r\n\r\n        .fswitchround:before {\r\n            border-radius: 50%;\r\n        }\r\n\r\n\r\n\r\n        /* Customize the label (the fcheck) */\r\n        .fcheck {\r\n            display: block;\r\n            position: relative;\r\n            padding-left: 35px;\r\n            margin-bottom: 12px;\r\n            cursor: pointer;\r\n            -webkit-user-select: none;\r\n            -moz-user-select: none;\r\n            -ms-user-select: none;\r\n            user-select: none;\r\n        }\r\n\r\n        /* Hide the browser's default checkbox */\r\n        .fcheck input {\r\n            position: absolute;\r\n            opacity: 0;\r\n            cursor: pointer;\r\n            height: 0;\r\n            width: 0;\r\n        }\r\n\r\n        /* Create a custom checkbox */\r\n        .fcheckmark {\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            height: 25px;\r\n            width: 25px;\r\n            background-color: #eee;\r\n            -webkit-transition: .4s;\r\n            transition: .4s;\r\n        }\r\n\r\n        /* On mouse-over, add a grey background color */\r\n        .fcheck:hover input~.fcheckmark {\r\n            background-color: #ccc;\r\n        }\r\n\r\n        /* When the checkbox is checked, add a blue background */\r\n        .fcheck input:checked~.fcheckmark {\r\n            background-color: #2196F3;\r\n        }\r\n\r\n        /* Create the fcheckmark/indicator (hidden when not checked) */\r\n        .fcheckmark:after {\r\n            content: \"\";\r\n            position: absolute;\r\n            display: none;\r\n        }\r\n\r\n        /* Show the fcheckmark when checked */\r\n        .fcheck input:checked~.fcheckmark:after {\r\n            display: block;\r\n        }\r\n\r\n        /* Style the fcheckmark/indicator */\r\n        .fcheck .fcheckmark:after {\r\n            left: 9px;\r\n            top: 5px;\r\n            width: 6px;\r\n            height: 12px;\r\n            border: solid white;\r\n            border-width: 0 3px 3px 0;\r\n            -webkit-transform: rotate(45deg);\r\n            -ms-transform: rotate(45deg);\r\n            transform: rotate(45deg);\r\n        }\r\n\r\n    </style>\r\n</icheckbox>","<icolorpicker>\r\n    <jlabel field={props.field}></jlabel>\r\n    <jtooltip tip={props.field.tip}></jtooltip>\r\n    <span class=\"inputFeedback\"></span>\r\n    <small class=\"inputFeedbackMsg\"></small>\r\n    <jhelp help={props.field.help}></jhelp>\r\n    <div name={props.attr.id +\"_colorpicker_\" + props.field.id}></div>\r\n    <input type=\"hidden\" class=\"form-control\" name={props.field.id} value={props.field.value} colorpicker=true>\r\n\r\n    <script>\r\n        export default {\r\n            onMounted() {\r\n                let formId = this.props.attr.id\r\n                //https://github.com/Simonwep/pickr\r\n                const pickr = Pickr.create({\r\n                    el: '[name=\"' + formId + '_colorpicker_' + this.props.field.id + '\"]',\r\n                    theme: 'nano', // or 'monolith', or 'nano'\r\n                    //default:'rgba(239, 1, 5, 1)',\r\n                    // default:'#16D92A',\r\n\r\n                    comparison: false,\r\n\r\n                    swatches: [\r\n                        'rgba(244, 67, 54, 1)',\r\n                        'rgba(233, 30, 99, 0.95)',\r\n                        'rgba(156, 39, 176, 0.9)',\r\n                        'rgba(103, 58, 183, 0.85)',\r\n                        'rgba(63, 81, 181, 0.8)',\r\n                        'rgba(33, 150, 243, 0.75)',\r\n                        'rgba(3, 169, 244, 0.7)',\r\n                        'rgba(0, 188, 212, 0.7)',\r\n                        'rgba(0, 150, 136, 0.75)',\r\n                        'rgba(76, 175, 80, 0.8)',\r\n                        'rgba(139, 195, 74, 0.85)',\r\n                        'rgba(205, 220, 57, 0.9)',\r\n                        'rgba(255, 235, 59, 0.95)',\r\n                        'rgba(255, 193, 7, 1)'\r\n                    ],\r\n\r\n                    components: {\r\n\r\n                        // Main components\r\n                        preview: true,\r\n                        opacity: true,\r\n                        hue: true,\r\n\r\n                        // Input / output Options\r\n                        interaction: {\r\n                            hex: true,\r\n                            rgba: true,\r\n                            hsla: false,\r\n                            hsva: false,\r\n                            cmyk: false,\r\n                            input: true,\r\n                            clear: false,\r\n                            save: true,\r\n                            cancel: true\r\n                        }\r\n                    },\r\n                    strings: {\r\n                        save: 'Select', // Default for save button\r\n                        clear: 'Clear', // Default for clear button\r\n                        cancel: 'Cancel' // Default for cancel button\r\n                    }\r\n                })\r\n\r\n                pickr.on('init', instance => {\r\n                    //console.log(instance)\r\n                    let setColor = instance._root.root.closest(\".form-group\").querySelector(\"[type='hidden']\").value\r\n                    pickr.setColor(setColor, true)\r\n                })\r\n\r\n                pickr.on('save', (color, instance) => {\r\n                    let rgba = color.toRGBA().toString()\r\n                    instance._root.root.closest(\".form-group\").querySelector(\"[type='hidden']\").value = rgba\r\n                }).on('cancel', () => {\r\n                    pickr.hide()\r\n                })\r\n\r\n                document.addEventListener(this.props.attr.id + '_setColor_' + this.props.field.id, function(ev) {\r\n                    pickr.setColor(ev.detail.color, true)\r\n                })\r\n            }\r\n        }\r\n\r\n    </script>\r\n    <style>\r\n        .pickr .pcr-button {\r\n            height: 4em;\r\n            width: 4em;\r\n            border: 1px solid grey;\r\n        }\r\n\r\n        /* .pickr .pcr-color-palette{cursor:pointer!important;}*/\r\n\r\n    </style>\r\n</icolorpicker>\r\n","<idatetimepicker>\r\n    <jlabel field={props.field}></jlabel>\r\n    <jtooltip tip={props.field.tip}></jtooltip>\r\n    <span class=\"inputFeedback\"></span>\r\n    <small class=\"inputFeedbackMsg\"></small>\r\n    <div class=\"input-group\">\r\n        <jaddon field={props.field} placement='left'></jaddon>\r\n        <input { ...props.field } type=\"text\" class=\"form-control {props.field.class}\" name={props.field.id} value={props.field.value} id={} datetimepicker=true>\r\n        <jaddon field={props.field} placement='right'></jaddon>\r\n    </div>\r\n    <jhelp help={props.field.help}></jhelp>\r\n    <script>\r\n        export default {\r\n            onMounted() {\r\n                let formId = this.props.attr.id\r\n                const elt = document.getElementsByName(formId)[0].querySelector('[name=\"' + this.props.field.id + '\"]')\r\n                const datetimepicker=flatpickr(elt,{\r\n                    allowInput:true,\r\n                    enableTime: this.props.field.enableTime,\r\n                    dateFormat: \"U\",\r\n                    altInput : true,\r\n                    altFormat: \"l j F Y  H:i\",\r\n                    defaultDate : this.props.field.value,\r\n                    locale : this.props.attr.lang\r\n                })\r\n                let self=this\r\n                document.addEventListener(this.props.attr.id + '_setDatetime_' + this.props.field.id, function(ev) {\r\n                    datetimepicker.setDate(ev.detail.epoch)\r\n                })\r\n            }\r\n        }\r\n    </script>\r\n</idatetimepicker>","<ihr>\r\n    <div name={props.field.id}>\r\n        <jicon field={props.field}></jicon>\r\n        <span class=\"fhrlabel {props.field.class}\"> {i18n(props.field.label)}</span>\r\n        <jtooltip tip={props.field.tip}></jtooltip>\r\n        <hr>\r\n        <jhelp help={props.field.help}></jhelp>\r\n    </div>\r\n    <style>\r\n        .fhrlabel {\r\n            font-size: 1.3rem;\r\n        }\r\n\r\n        hr {\r\n            margin: 0;\r\n        }\r\n\r\n    </style>\r\n</ihr>\r\n","<iradio>\r\n    <jlabel field={props.field}></jlabel>\r\n    <jtooltip tip={props.field.tip}></jtooltip>\r\n    <span class=\"inputFeedback\"></span>\r\n    <small class=\"inputFeedbackMsg\"></small>\r\n    <jhelp help={props.field.help}></jhelp>\r\n    <div class=\"aaad-inline\">\r\n        <template each={ option in props.field.opts }>\r\n            <label class=\"fradio\">{i18n(option.label)}\r\n                <jtooltip tip={option.tip}></jtooltip>\r\n                <jhelp help={option.help}></jhelp>\r\n                <input { ...props.field } type=\"radio\" class=\"form-control\" checked={isChecked(option)} value={option.id} name={props.field.id} id={}>\r\n                <span class=\"fradiomark\"></span>\r\n            </label>\r\n        </template>\r\n    </div>\r\n    <script>\r\n        export default {\r\n            isChecked(option) {\r\n                return (option.checked || option.id == this.props.field.value)\r\n            }\r\n        }\r\n\r\n    </script>\r\n    <style>\r\n        /* Customize the label (the fradio) */\r\n        .fradio {\r\n            display: block;\r\n            position: relative;\r\n            padding-left: 35px;\r\n            margin-bottom: 12px;\r\n            cursor: pointer;\r\n            -webkit-user-select: none;\r\n            -moz-user-select: none;\r\n            -ms-user-select: none;\r\n            user-select: none;\r\n        }\r\n\r\n        /* Hide the browser's default checkbox */\r\n        .fradio input {\r\n            position: absolute;\r\n            opacity: 0;\r\n            cursor: pointer;\r\n            height: 0;\r\n            width: 0;\r\n        }\r\n\r\n        /* Create a custom checkbox */\r\n        .fradiomark {\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            height: 25px;\r\n            width: 25px;\r\n            background-color: #eee;\r\n            border-radius: 50%;\r\n            -webkit-transition: .4s;\r\n            transition: .4s;\r\n        }\r\n\r\n        /* On mouse-over, add a grey background color */\r\n        .fradio:hover input~.fradiomark {\r\n            background-color: #ccc;\r\n        }\r\n\r\n        /* When the radio is checked, add a blue background */\r\n        .fradio input:checked~.fradiomark {\r\n            background-color: #2196F3;\r\n        }\r\n\r\n        /* Create the indicator (the dot/circle - hidden when not checked) */\r\n        .fradiomark:after {\r\n            content: \"\";\r\n            position: absolute;\r\n            display: none;\r\n        }\r\n\r\n        /* Show the fradiomark when checked */\r\n        .fradio input:checked~.fradiomark:after {\r\n            display: block;\r\n        }\r\n\r\n        /* Style the indicator (dot/circle) */\r\n        .fradio .fradiomark:after {\r\n            top: 8px;\r\n            left: 8px;\r\n            width: 9px;\r\n            height: 9px;\r\n            border-radius: 50%;\r\n            background: white;\r\n        }\r\n\r\n    </style>\r\n</iradio>\r\n\r\n<!--iradio>\r\n    <jlabel field={props.field}></jlabel>\r\n    <jtooltip help={props.field.help}></jtooltip>\r\n    <template each={ option in props.field.opts }>\r\n        <div class=\"custom-control custom-radio\">\r\n            <input type=\"radio\" id={option.id} value={option.id} name={props.field.name} class=\"custom-control-input\">\r\n            <label class=\"custom-control-label\" for={option.id}>{i18n(option.label)}</label>\r\n            <jtoolTip help={option.help}></jtoolTip>\r\n        </div>\r\n    </template>\r\n</iradio-->\r\n","<irange>\r\n    <jlabel field={props.field}></jlabel>\r\n    <jtooltip tip={props.field.tip}></jtooltip>\r\n    <span class=\"inputFeedback\"></span>\r\n    <small class=\"inputFeedbackMsg\"></small>\r\n    <div class=\"input-group\">\r\n        <input { ...props.field } type=\"range\" class=\"form-control custom-range {props.field.class}\" name={props.field.id} min={props.field.min} max={props.field.max} step={props.field.step} value={props.field.value} id={}>\r\n    </div>\r\n    <jhelp help={props.field.help}></jhelp>\r\n    <style>\r\n        /*-- range --*/\r\n        input[type=range]::-webkit-slider-thumb {\r\n            background: red;\r\n            /*-- background: var(--navBarBg-backgroundColor); --*/\r\n        }\r\n\r\n        input[type=range]::-moz-range-thumb {\r\n            background: red;\r\n            /*-- background: var(--navBarBg-backgroundColor); --*/\r\n        }\r\n\r\n        input[type=range]::-ms-thumb {\r\n            background: red;\r\n            /*-- background: var(--navBarBg-backgroundColor); --*/\r\n        }\r\n    </style>\r\n</irange>\r\n","<irow>\r\n\t<div class=\"row\">\r\n        <template each={ (field, i) in props.field.desc } >\r\n            <div class=\"col form-group {field.class}\" name=\"fgroup_{field.id || i}\">\r\n                <div is={'i'+callType(field.type)} field={checkField(field,i)} attr={props.attr} index={i}></div>\r\n            </div>\r\n        </template>\r\n\t</div>\r\n    <script>\r\n        export default {\r\n                checkField(field,i){\r\n                field.id = field.id || 'ffield'+i\r\n                return field\r\n            }\r\n        }\r\n    </script>\r\n</irow>","<iselect>\r\n    <jlabel field={props.field}></jlabel>\r\n    <jtooltip tip={props.field.tip}></jtooltip>\r\n    <span class=\"inputFeedback\"></span>\r\n    <small class=\"inputFeedbackMsg\"></small>\r\n    <div class=\"input-group\">\r\n        <jaddon if={!props.field.tag} field={props.field} placement='left'></jaddon>\r\n        <select { ...props.field } multiple={props.field.multiple} class=\"form-control {props.field.class}\" selectr=true name={props.field.id} id={}>\r\n            <template each={option in props.field.opts}>\r\n                <option value={option.value} selected={isSelected(option)}>\r\n                    {i18n(option.label)}\r\n                </option>\r\n            </template>\r\n        </select>\r\n        <jaddon if={!props.field.tag} field={props.field} placement='right'></jaddon>\r\n    </div>\r\n    <jhelp help={props.field.help}></jhelp>\r\n    <script>\r\n        export default {\r\n            onMounted() {\r\n                if (this.props.field.multiple && this.props.field.tag) {\r\n                    // https://github.com/Mobius1/Selectr\r\n                    let elt = document.getElementsByName(this.props.attr.id)[0].querySelector('[name=\"' + this.props.field.id + '\"]')\r\n                    const selectr = new Selectr(elt, {\r\n                        taggable: this.props.field.userAddOption\r\n                    })\r\n                    document.addEventListener(this.props.attr.id + '_setSelectr_' + this.props.field.id, function(ev) {\r\n                        //console.log(selectr.getValue(false)) \r\n                        selectr.clear()\r\n                        selectr.setValue(ev.detail.values)                      \r\n                    })\r\n                }\r\n            },\r\n            isSelected(option) {\r\n                //console.log(option)\r\n                return (option.selected || option.value == this.props.field.value || (Array.isArray(this.props.field.value) && this.props.field.value.indexOf(option.value) > -1))\r\n            }\r\n        }\r\n\r\n    </script>\r\n    <style>\r\n        .choices__list--multiple .choices__item {\r\n            border-radius: 20px;\r\n            background-color: grey;\r\n            border: 1px solid grey;\r\n            color: #fff;\r\n        }\r\n\r\n        .choices__button {\r\n            border-left: 0px !important;\r\n        }\r\n\r\n        .choices {\r\n            width: 100%;\r\n        }\r\n\r\n    </style>\r\n</iselect>","<itext>\r\n    <jlabel field={props.field}></jlabel>\r\n    <jtooltip tip={props.field.tip}></jtooltip>\r\n    <template if={props.field.multilang} each={lang in props.attr.langs}>\r\n        <button type=\"button\" class=\"btn {btnLangColor(lang)} btn-sm ml-1\" style=\"text-transform: capitalize;\" idLang={lang} onclick={selectLang}>{langName(lang)} <span class=\"aaainputFeedback\"></span></button>\r\n    </template>\r\n    <span class=\"inputFeedback\"></span>\r\n    <small class=\"inputFeedbackMsg\"></small>\r\n\r\n    <div each={lang in state.langs} class=\"input-group {lang==state.currentLang || !lang?'':'hide'}\">\r\n        <jaddon field={props.field} placement='left'></jaddon>\r\n\r\n        <input if={props.field.type!='textarea' } { ...props.field } aaatabindex={props.index} type={state.type} class=\"form-control {props.field.class}\" defaultLang={state.defaultLang} lang={lang} baseId={props.field.id} name={buildId(lang)} value={props.field.value} autocomplete=\"on\" id={}>\r\n\r\n        <textarea if={props.field.type=='textarea' } { ...props.field } aaatabindex={props.index} class=\"form-control {props.field.class}\" rows={props.field.rows || 8} defaultLang={state.defaultLang} lang={lang} baseId={props.field.id} name={buildId(lang)} id={}>{props.field.value}</textarea>\r\n\r\n\r\n\r\n        <div if={props.field.multilang && props.attr.proposeTranslate && state.defaultLang !=lang } class=\"h-100 input-group-append\">\r\n            <button type=\"button\" class=\"btn btn-info\" onclick={translate}><i class=\"fas fa-language\"></i></button>\r\n        </div>\r\n\r\n\r\n        <jaddon field={props.field} placement='right'></jaddon>\r\n    </div>\r\n    <jhelp help={props.field.help}></jhelp>\r\n\r\n    <script>\r\n        export default {\r\n            onBeforeMount() {\r\n                this.state.currentLang = this.props.attr.langs[0]\r\n                this.state.defaultLang = this.props.attr.langs[0]\r\n                if (this.props.field.multilang) {\r\n                    this.state.langs = this.props.attr.langs\r\n                } else {\r\n                    this.state.langs = ['']\r\n                }\r\n                if (this.props.type == 'datetime') this.state.type = 'datetime-local'\r\n                else this.state.type = this.props.field.type\r\n            },\r\n            btnLangColor(lang) {\r\n                return lang == this.state.currentLang ? 'btn-secondary' : 'btn-light'\r\n            },\r\n            buildId(lang) {\r\n                return this.props.field.multilang ? this.props.field.id + '.' + lang : this.props.field.id\r\n            },\r\n            defaultValue() {\r\n                if (this.state.currentLang == this.props.attr.langs[0]) return this.props.field.value\r\n                else return null\r\n            },\r\n            selectLang(ev) {\r\n                this.state.currentLang = ev.target.attributes.idLang.value\r\n                this.update()\r\n            }\r\n        }\r\n\r\n    </script>\r\n</itext>\r\n","<itexteditor>\r\n    <jlabel field={props.field}></jlabel>\r\n    <jtooltip tip={props.field.tip}></jtooltip>\r\n    <template if={props.field.multilang} each={lang in props.attr.langs}>\r\n        <button type=\"button\" class=\"btn {btnLangColor(lang)} btn-sm ml-1\" style=\"text-transform: capitalize;\" idLang={lang} onclick={selectLang}>{langName(lang)} <span class=\"aaainputFeedback\"></span></button>\r\n    </template>\r\n    <span class=\"inputFeedback\"></span>\r\n    <small class=\"inputFeedbackMsg\"></small>\r\n\r\n    <div each={lang in state.langs} class=\"ianput-group {lang==state.currentLang || !lang?'':'hide'}\">\r\n        <span if={props.field.multilang && props.attr.proposeTranslate && state.defaultLang !=lang } class=\"h-100 input-group-append\">\r\n            <button type=\"button\" class=\"btn btn-info\" onclick={translate}><i class=\"fas fa-language\"></i></button>\r\n        </span>\r\n        <div name={buildId(lang,'_')}></div>\r\n        <input type=\"hidden\" defaultLang={state.defaultLang} lang={lang} baseId={props.field.id} name={buildId(lang)} value={props.field.value} class=\"form-control\" id={} texteditor=true>\r\n    </div>\r\n    <jhelp help={props.field.help}></jhelp>\r\n\r\n    <script>\r\n        export default {\r\n            onBeforeMount() {\r\n                this.state.currentLang = this.props.attr.langs[0]\r\n                this.state.defaultLang = this.props.attr.langs[0]\r\n                if (this.props.field.multilang) {\r\n                    this.state.langs = this.props.attr.langs\r\n                } else {\r\n                    this.state.langs = ['']\r\n                }\r\n            },\r\n            onMounted() {\r\n                //https://quilljs.com/\r\n                //see https://codepen.io/viT-1/pen/GQVaoB for html fill\r\n                const self = this\r\n                let formId = this.props.attr.id\r\n                this.state.langs.forEach(function(lang) {\r\n                    let container = document.getElementsByName(formId)[0].querySelector('[name=\"' + self.buildId(lang, '_') + '\"]')\r\n                    let input = document.getElementsByName(formId)[0].querySelector('[name=\"' + self.buildId(lang) + '\"]')\r\n                    var editor = new Quill(container, {\r\n                        modules: {\r\n                            toolbar: [\r\n                                [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\r\n                                //[{ 'size': ['small', false, 'large', 'huge'] }],  // custom dropdown\r\n                                //[{ 'header': 1 }, { 'header': 2 }],               // custom button values\r\n                                ['bold', 'italic', 'underline', 'strike', 'link'],        // toggled buttons\r\n                                [{ 'color': [] }, { 'background': [] }],          // dropdown with defaults from theme\r\n                                [{ 'align': [] }],                                \r\n                                [{ 'list': 'ordered'}, { 'list': 'bullet' }],\r\n                                ['video', 'image'],\r\n                                ['blockquote', 'code-block'],\r\n                                [{ 'script': 'sub'}, { 'script': 'super' }],      // superscript/subscript\r\n                                [{ 'indent': '-1'}, { 'indent': '+1' }],          // outdent/indent\r\n                                [{ 'direction': 'rtl' }],                       // text direction\r\n                                [{ 'font': [] }],\r\n                                ['clean'],\r\n                                ['translate']\r\n                            ]\r\n                        },\r\n                        theme: 'snow'\r\n                    })\r\n                    editor.root.innerHTML=self.props.field.value\r\n                    //editor.clipboard.dangerouslyPasteHTML(self.props.field.value)\r\n                    \r\n                    editor.on('text-change', function() {\r\n                        var delta = editor.getContents()\r\n                        var text = editor.getText()\r\n                        var html = editor.root.innerHTML\r\n                        input.value=editor.root.innerHTML\r\n                    })\r\n                    document.addEventListener(formId + '_setTexteditor_' + self.buildId(lang), function(ev) {\r\n                        //editor.clipboard.dangerouslyPasteHTML(ev.detail.content)\r\n                        editor.root.innerHTML=ev.detail.content\r\n                    })\r\n                })\r\n            },\r\n            btnLangColor(lang) {\r\n                return lang == this.state.currentLang ? 'btn-secondary' : 'btn-light'\r\n            },\r\n            buildId(lang, separator) {\r\n                return this.props.field.multilang ? this.props.field.id + (separator || '.') + lang : this.props.field.id\r\n            },\r\n            defaultValue() {\r\n                if (this.state.currentLang == this.props.attr.langs[0]) return this.props.field.value\r\n                else return null\r\n            },\r\n            selectLang(ev) {\r\n                this.state.currentLang = ev.target.attributes.idLang.value\r\n                this.update()\r\n            }\r\n        }\r\n\r\n    </script>\r\n</itexteditor>\r\n","<jlabel>\r\n\t<label class=\"label fucfirst\" for={props.field.id}>{i18n(props.field.label)}</label> \r\n    <span if={props.field.required} class=\"inputRequired mx-1\"><i class=\"fas fa-asterisk fa-fw\" aria-hidden=\"true\"></i></span>\r\n    <style>\r\n        .label\r\n        {\r\n            font-size:1.3rem;\r\n        }\r\n        .inputRequired{\r\n            color: red;\r\n        }\r\n    </style>\r\n</jlabel>","<jtooltip>\r\n    <div if={props.tip} class=\"ftooltip\">\r\n        <i class=\"far fa-question-circle mx-1\"></i>\r\n        <div class=\"ftooltipText\">{i18n(props.tip)}</div>\r\n    </div>\r\n\r\n    <style>\r\n        .ftooltip\r\n        {\r\n            position: relative;\r\n            display: inline-block;\r\n        }\r\n\r\n        .ftooltip .ftooltipText\r\n        {\r\n            font-size:1rem!important;\r\n            visibility: hidden;\r\n            width: 12rem;\r\n            background-color: #ffc107;\r\n            color: white;\r\n            text-align: center;\r\n            border: thin solid lightgray;\r\n            border-radius: 6px;\r\n            padding: 5px 0;\r\n            position: absolute;/* Position the tooltip text */\r\n            z-index: 10;\r\n            bottom: 125%;\r\n            left: 0%;\r\n            margin-left: -60px;\r\n        }\r\n\r\n        .ftooltip:hover .ftooltipText\r\n        {\r\n            visibility: visible;\r\n        }\r\n    </style>\r\n</jtooltip>\r\n","/*import * as riot from 'riot'*/\r\n\r\nriot.install(function (component) {\r\n    window.addEventListener('updateAll', () => {\r\n        component.update()\r\n    })\r\n    component.updateAll = function () {\r\n        window.dispatchEvent(new Event('updateAll'))\r\n    }\r\n    component.i18n = function (id) {\r\n        return id\r\n    }\r\n    component.langName = function (id) {\r\n        const langs = {\r\n            fr: 'franÃ§ais',\r\n            en: 'English'\r\n        }\r\n        return langs[id] || id\r\n    }\r\n    component.selectIcon = function (field) {\r\n        var ret, id = '',\r\n            subType = '',\r\n            type = ''\r\n        if (field.icon && field.icon != 'none') return field.icon\r\n        if (field.id) id = field.id.toLowerCase()\r\n        if (field.type) type = field.type\r\n        if (field.onclick && !type) type = 'button'\r\n        let autoIcons = {\r\n            tags: 'fas fa-tags',\r\n            logon: 'fas fa-user',\r\n            address: 'fas fa-map-marker-alt',\r\n            name: 'fas fa-user',\r\n            url: 'fas fa-user',\r\n            lang: 'fas fa-language',\r\n            google: 'fab fa-google',\r\n            twitter: 'twitter',\r\n            facebook: 'fab fa-facebook',\r\n            datetimepicker: 'fas fa-calendar-alt',\r\n            date: 'fas fa-calendar-alt',\r\n            month: 'fas fa-calendar-alt',\r\n            datetime: 'fas fa-calendar-alt',\r\n            tel: 'fas fa-phone',\r\n            mail: 'fas fa-envelope',\r\n            email: 'fas fa-envelope',\r\n            password: 'fas fa-key',\r\n            number: 'fas fa-list-ol',\r\n            button: 'fas fa-mouse-pointer'\r\n        }\r\n        for (var possibleId in autoIcons) {\r\n            if (id.indexOf(possibleId) != -1 ||\r\n                type.indexOf(possibleId) != -1\r\n            ) return autoIcons[possibleId]\r\n        }\r\n        if (!ret) ret = 'fas fa-greater-than';\r\n        return ret\r\n    }\r\n    component.callType = function (type) {\r\n        let types = {\r\n            text: ['text', 'textarea', 'date', 'color', 'datetime', 'datetime-local', 'email', 'month', 'number', 'tel', 'time', 'url', 'week'],\r\n            checkbox: ['checkbox', 'switch']\r\n        }\r\n        if (types.text.indexOf(type) > -1) return 'text'\r\n        if (types.checkbox.indexOf(type) > -1) return 'checkbox'\r\n        return type\r\n    }\r\n    component.translate = function (ev) {\r\n        let elt = ev.target.closest(\".input-group\").querySelector(\".form-control\")\r\n        let defaultLang = elt.getAttribute('defaultLang')\r\n        let lang = elt.getAttribute('lang')\r\n        let eltFromId = elt.getAttribute('baseId') + '.' + defaultLang\r\n        console.log(eltFromId, defaultLang, lang)\r\n        let eltFromValue = ev.target.closest(\".form-group\").querySelector('[name=\"' + eltFromId + '\"]').value\r\n        //console.log(ev.target.closest(\".form-group\").querySelector('[name=\"'+eltFromId+'\"]').getAttribute('name'))\r\n        elt.value = 'Transalion : ' + defaultLang + ' to ' + lang + ':' + eltFromValue\r\n    }\r\n})\r\n\r\n\r\nexport function getFormValues(formName) {\r\n    var data = {}\r\n    let inputs = document.getElementsByName(formName)[0].querySelectorAll('.form-control')\r\n    inputs.forEach(function (input) {\r\n        if (input.name) {\r\n            let type = input.type\r\n            switch (type) {\r\n                case 'checkbox':\r\n                    if (input.checked) field(data, input.name, input.getAttribute('checkedValue') || true)\r\n                    else field(data, input.name, input.getAttribute('uncheckedValue') || false)\r\n                    break\r\n                case 'select-multiple': //this is a special type property of dom  : https://www.w3schools.com/jsref/prop_select_type.asp\r\n                    field(data, input.name, [...input.options].filter((x) => x.selected).map((x) => x.value))\r\n                    break\r\n                case 'radio':\r\n                    if (input.checked) field(data, input.name, input.value)\r\n                    if (!field(data, input.name)) field(data, input.name, null)\r\n                    break\r\n                default: //text, select-one, password, hidden, email, tel, textarea...... all others\r\n                    field(data, input.name, input.value)\r\n            }\r\n        }\r\n    })\r\n    return data\r\n}\r\n\r\nexport function setFormValues(formName, data) {\r\n    let inputs = document.getElementsByName(formName)[0].querySelectorAll('.form-control[name]') //find all form-control with a name\r\n    inputs.forEach(function (input) {\r\n        let type = input.type\r\n\r\n        if (input.getAttribute('colorpicker')) type = 'colorpicker'\r\n        if (input.getAttribute('datetimepicker')) type = 'datetimepicker'\r\n        if (input.getAttribute('texteditor')) type = 'texteditor'\r\n\r\n        let val = field(data, input.name)\r\n        switch (type) {\r\n            case 'checkbox':\r\n                input.checked = (input.checkedValue == val && input.uncheckedValue != val) || val\r\n                break\r\n            case 'select-multiple':\r\n                if (input.selectr) { //selectr tag\r\n                    var setSelectrEvent = new CustomEvent(formName + '_setSelectr_' + input.name, {\r\n                        detail: {\r\n                            values: val\r\n                        }\r\n                    })\r\n                    document.dispatchEvent(setSelectrEvent)\r\n                } else Array.prototype.forEach.call(input.options, function (opt) {\r\n                    opt.selected = (val && val.indexOf(opt.value) > -1)\r\n                })\r\n                break\r\n            case 'colorpicker':\r\n                var setColorEvent = new CustomEvent(formName + '_setColor_' + input.name, {\r\n                    detail: {\r\n                        color: val\r\n                    }\r\n                })\r\n                document.dispatchEvent(setColorEvent)\r\n                break\r\n            case 'datetimepicker':\r\n            console.log('typeA',type,input.name)\r\n                var setDatetimeEvent = new CustomEvent(formName + '_setDatetime_' + input.name, {\r\n                    detail: {\r\n                        epoch: val\r\n                    }\r\n                })\r\n                document.dispatchEvent(setDatetimeEvent)\r\n                break\r\n            case 'texteditor':\r\n                var setTexteditorEvent = new CustomEvent(formName + '_setTexteditor_' + input.name, {\r\n                    detail: {\r\n                        content: val\r\n                    }\r\n                })\r\n                document.dispatchEvent(setTexteditorEvent)\r\n                break\r\n            default: //radio, select-one' text, password, hidden, email, tel, textarea...... all others\r\n            console.log('type',type,input.name,input)\r\n                input.value = val\r\n                //image\r\n        }\r\n    })\r\n    return data\r\n}\r\n\r\nfunction setSelectOptions(formName, selectName, values) {\r\n    let select = document.getElementsByName(formName)[0].querySelectorAll('[name=\"' + selectName + '\"]')\r\n\r\n\r\n    $('#' + id).children('option').remove();\r\n    /*if(values) for ( var i = 0; i < values.length; i++ ) {\r\n    \t$('#'+id).append(new Option(values[i].label, values[i].id, false, false));\r\n    }*/\r\n    $.each(values, function (key, value) {\r\n        $('#' + id).append(new Option(value, key, false, false));\r\n    })\r\n    $('#' + id).trigger('change');\r\n}\r\n\r\nexport function field(obj, fieldPath, value) {\r\n    // split the field into tokens\r\n    if (obj === undefined || fieldPath === undefined || obj === null) return\r\n    var tokens = fieldPath.split('.');\r\n    // if there's more than one token, this field is an object\r\n    if (tokens.length > 1) {\r\n        var subObj = tokens[0];\r\n        // define the object\r\n        if (!obj[subObj]) obj[subObj] = {};\r\n        // call field again on the embedded object\r\n        var firstDot = fieldPath.indexOf('.');\r\n        return field(obj[subObj], fieldPath.substr(firstDot + 1), value);\r\n    } else {\r\n        var arr = fieldPath.split('[');\r\n        if (arr.length > 1) {\r\n            if (!obj[arr[0]]) obj[arr[0]] = [];\r\n            if (value !== undefined) obj[arr[0]].push(value)\r\n            else return obj[arr[0]][arr[1].slice(0, -1)] //remove last char or arr[1] that must be a ']'\r\n        } else {\r\n            if (value !== undefined) obj[fieldPath] = value; // no embedded objects, just fieldPath assignment\r\n            else return obj[fieldPath]\r\n        }\r\n    }\r\n}\r\n\r\nimport formr from './formr.riot'\r\nimport ialert from './ialert.riot'\r\nimport ibutton from './ibutton.riot'\r\nimport icheckbox from './icheckbox.riot'\r\nimport icolorpicker from './icolorpicker.riot'\r\nimport idatetimepicker from './idatetimepicker.riot'\r\nimport iimagepicker from './iimagepicker.riot'\r\nimport ihidden from './ihidden.riot'\r\nimport ihr from './ihr.riot'\r\nimport ipassword from './ipassword.riot'\r\nimport iradio from './iradio.riot'\r\nimport irange from './irange.riot'\r\nimport irow from './irow.riot'\r\nimport iselect from './iselect.riot'\r\nimport itext from './itext.riot'\r\nimport itexteditor from './itexteditor.riot'\r\nimport ititle from './ititle.riot'\r\nimport jaddon from './jaddon.riot'\r\nimport jhelp from './jhelp.riot'\r\nimport jicon from './jicon.riot'\r\nimport jlabel from './jlabel.riot'\r\nimport jtooltip from './jtooltip.riot'\r\n\r\n\r\nriot.register('formr', formr)\r\nriot.register('ialert', ialert)\r\nriot.register('ibutton', ibutton)\r\nriot.register('icheckbox', icheckbox)\r\nriot.register('icolorpicker', icolorpicker)\r\nriot.register('idatetimepicker', idatetimepicker)\r\nriot.register('iimagepicker', iimagepicker)\r\nriot.register('ihidden', ihidden)\r\nriot.register('ihr', ihr)\r\nriot.register('ipassword', ipassword)\r\nriot.register('iradio', iradio)\r\nriot.register('irange', irange)\r\nriot.register('irow', irow)\r\nriot.register('iselect', iselect)\r\nriot.register('itext', itext)\r\nriot.register('itexteditor', itexteditor)\r\nriot.register('jaddon', jaddon)\r\nriot.register('jhelp', jhelp)\r\nriot.register('jicon', jicon)\r\nriot.register('jlabel', jlabel)\r\nriot.register('jtooltip', jtooltip)\r\n","<iimagepicker>\r\n    <jlabel field={props.field}></jlabel>\r\n    <jtooltip tip={props.field.tip}></jtooltip>\r\n    <span class=\"inputFeedback\"></span>\r\n    <small class=\"inputFeedbackMsg\"></small>\r\n    IIMAGEPICKER TODO\r\n    <div class=\"input-group\">\r\n        <jaddon field={props.field} placement='left'></jaddon>\r\n        <input { ...props.field } type=\"text\" class=\"form-control {props.field.class}\" name={props.field.id} value={props.field.value} autocomplete=\"on\" id={}>\r\n        <jaddon field={props.field} placement='right'></jaddon>\r\n    </div>\r\n    <jhelp help={props.field.help}></jhelp>\r\n</iimagepicker>","<ihidden>\r\n    <input { ...props.field } type=\"hidden\" class=\"form-control {props.field.class}\" name={props.field.id} value={props.field.value} id={}>\r\n</ihidden>\r\n","<ipassword>\r\n    <jlabel field={props.field}></jlabel>\r\n    <jtooltip tip={props.field.tip}></jtooltip>\r\n    <span class=\"inputFeedback\"></span>\r\n    <small class=\"inputFeedbackMsg\"></small>\r\n    <div class=\"input-group\">\r\n        <jaddon field={props.field} placement='left'></jaddon>\r\n        <input { ...props.field } type=\"password\" class=\"form-control {props.field.class}\" name={props.field.id} value={props.field.value} autocomplete=\"on\" id={}>\r\n        <jaddon field={props.field} placement='right'></jaddon>\r\n    </div>\r\n    <jhelp help={props.field.help}></jhelp>\r\n</ipassword>\r\n","<jaddon>\r\n    <div if={props.placement=='left' && props.field.icon!='none' } class=\"h-100 input-group-prepend\">\r\n        <span class=\"input-group-text\">\r\n            <jicon field={props.field}></jicon>\r\n        </span>\r\n    </div>\r\n    <div if={props.placement=='right' && props.field.buttons} class=\"h-100 input-group-append\">\r\n        <ibutton each={button in props.field.buttons} field={button}></ibutton>\r\n    </div>\r\n</jaddon>\r\n","<jhelp>\r\n    <small if={props.help} class=\"text-muted mb-1 mr-1\">{i18n(props.help)}</small>\r\n</jhelp>","<jicon>\r\n    <i class=\"{selectIcon(props.field)} fa-fw\"></i>\r\n</jicon>","import * as exports from './formr.js'\nObject.entries(exports).forEach(([name, exported]) => window[name] = exported)\nimport App from './app.riot'\n\n\nwindow.data = {\n    mydatetimepicker: 1488136398547,\n    checboxTransport: {\n        car: false,\n        bus: true\n    },\n    emailInrRow: \"emailInrRow changed\",\n    fallDescription: {\n        fr: \"fallDescription fr\",\n        en: \"fallDescription en\"\n    },\n    mayrange: 10,\n    flyDescription: {\n        fr: \"flyDescriptionf fr\",\n        en: \"flyDescription en\"\n    },\n    genre: \"boy\",\n    music: [\"piano\"],\n    mycolor: \"blue\",\n    mydate: \"date changed\",\n    mypassword: \"mypassword changrd\",\n    mytextarea: {\n        fr: \"mytextarea fr\",\n        en: \"mytextarea en\"\n    },\n    mytextedit: {\n        fr: \"mytextedit fr\",\n        en: \"mytextedit en\"\n    },\n    mytextwithbuttons: \"mytextwithbuttons changed\",\n    passwordInRow: \"passwordInRow changed\",\n    radioAnimal: \"cat\",\n    switchTest: {\n        bird: \"fall\",\n        snake: false,\n        elephant: true\n    },\n    switchTestAlone: \"fall_alone\"\n}\n\n\n\n\n\nwindow.fields = {\n    form1: {\n        attr: {\n            lang: 'fr',\n            langs: ['fr', 'en'],\n            proposeTranslate: true\n        },\n        desc: [\n            {\n                type: 'title',\n                title: 'Hello',\n                icon: 'fas fa-skull-crossbones',\n                help: 'Help Please verify your info before',\n            },\n            {\n                type: 'alert',\n                color: 'danger',\n                message: \"Ceci est un message d'alerte\",\n                icon: 'fas fa-exclamation-triangle',\n                tip: 'Tip Please verify your info before',\n                help: 'Help Please verify your info before',\n            },\n            {\n                type: 'datetimepicker',\n                id: 'mydatetimepicker',\n                label: 'Date de naissance',\n                enableTime:true,\n                tip: 'Tip Please verify your info before',\n                help: 'Help Please verify your info before',\n                value:56564415\n            },\n            {\n                id: 'genre',\n                type: 'select',\n                label: 'Genre',\n                value: 'girl',\n                tip: 'Tip Please verify your info before',\n                help: 'Help Please verify your info before',\n                opts: [\n                    {\n                        label: 'Garcon',\n                        value: 'boy'\n                    },\n                    {\n                        label: 'Fille',\n                        value: 'girl'\n                    }\n                ]\n            },\n            {\n                id: 'music',\n                type: 'select',\n                multiple: true,\n                tag: true,\n                userAddOption: true,\n                label: 'Musique',\n                required: true,\n                value: ['guitar'],\n                tip: 'Tip Please verify your info before',\n                help: 'Help Please verify your info before',\n                opts: [\n                    {\n                        label: 'Piano',\n                        value: 'piano'\n                    },\n                    {\n                        label: 'Guitare',\n                        value: 'guitar',\n                        aaaselected: true\n                    }\n                ]\n            },\n            {\n                id: 'mycolor',\n                label: 'Couleur principale',\n                type: 'colorpicker',\n                tip: 'Tip Please verify your info before',\n                help: 'Help Please verify your info before',\n                value: 'red'\n            },\n            {\n                id: 'mytextedit',\n                label: 'Texte principal',\n                type: 'texteditor',\n                multilang: true,\n                proposeTranslate: true,\n                tip: 'Tip Please verify your info before',\n                help: 'Help Please verify your info before',\n                value: '<p><strong><s><u>Mon premier text    </u></s></strong><strong style=\"color: rgb(240, 102, 102);\"><s><u>hkgkghkghkgh</u></s></strong><sup style=\"color: rgb(240, 102, 102);\"><strong><s><u>ghkghkghk</u></s><em><u>kghkghkg</u></em></strong></sup></p>'\n            },\n            {\n                id: 'mytextarea',\n                type: 'textarea',\n                rows: 8,\n                value: 'Eheh l\\'ami quoi de neuf c\\'est long tout ce tete sinon <h2>ca va? la fa</h2>mille? les amis? la santÃ©? bonsoir enfin au revoir anticonstitutionnelement ;) bisous',\n                label: 'Lettre pour chirac',\n                multilang: true,\n                required: true,\n                icon: 'fas fa-running',\n                tip: 'Il faut bien Ã©crire vous avez affaire avec un prÃ©sident',\n                help: 'Help Please verify your info before'\n            },\n            {\n                id: 'mayrange',\n                icon: 'fas fa-running',\n                type: 'range',\n                label: 'Zoom',\n                tip: 'select the right zoom',\n                help: 'select the right zoom',\n                onchange: 'alert(\"zoom\")',\n                oninput: 'alert(\"zoom\")',\n            },\n            {\n                id: 'mytextwithbuttons',\n                type: 'text',\n                required: true,\n                size: 10,\n                value: 'First item',\n                label: 'Id de l\\'ambulance',\n                icon: 'fas fa-ambulance',\n                minlength: 4,\n                buttons: [\n                    {\n                        icon: 'fas fa-running',\n                        onclick: 'dosomething'\n                    },\n                    {\n                        title: 'do it',\n                        onclick: 'dosomething'\n                    }\n                ],\n                tip: 'Il faut bien Ã©crire vous avez affaire avec un prÃ©sident',\n                help: 'Help Please verify your info before',\n            },\n            {\n                id: 'row0',\n                type: 'row',\n                desc: [\n                    {\n                        id: 'emailInrRow',\n                        type: 'email',\n                        size: 10,\n                        value: 'First item',\n                        label: 'Id de l\\'ambulance',\n                        buttons: [\n                            {\n                                icon: 'fas fa-running',\n                                onclick: 'dosomething'\n                            },\n                            {\n                                title: 'test',\n                                onclick: 'dosomething'\n                            }\n                        ]\n                    },\n                    {\n                        id: 'passwordInRow',\n                        type: 'password',\n                        //pattern:'(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]).{8,}',\n                        //required:true,\n                        value: 'Second item',\n                        label: 'Mot de passe'\n                    },\n                ]\n            },\n            {\n                id: 'mypassword',\n                type: 'password',\n                pattern: '(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]).{8,}',\n                patternInfo: '8 characters, 1 upper, 1 number',\n                //required:true,\n                value: 'Second item',\n                label: 'Mot de passe secure',\n                buttons: [\n                    {\n                        icon: 'fas fa-running',\n                        onclick: 'dosomething'\n                    },\n                    {\n                        title: 'Do it',\n                        onclick: 'dosomething'\n                    }\n                ],\n                tip: 'Tip Please verify your info before',\n                help: 'Help Please verify your info before',\n            },\n            {\n                id: 'mydate',\n                type: 'datetime',\n                size: 10,\n                value: 'Third item',\n                label: 'date',\n                buttons: [\n                    {\n                        icon: 'fas fa-running',\n                        onclick: 'dosomething'\n                    },\n                    {\n                        title: 'Do it',\n                        onclick: 'dosomething'\n                    }\n                ],\n                tip: 'Tip Please verify your info before',\n                help: 'Help Please verify your info before',\n            },\n            {\n                id: 'radioAnimal',\n                type: 'radio',\n                label: 'Choix animal',\n                value: 'dog',\n                opts: [\n                    {\n                        label: 'chien',\n                        id: 'dog',\n                        tip: 'Il faut bien Ã©crire vous avez affaire avec un prÃ©sident'\n                    },\n                    {\n                        label: 'chat',\n                        achecked: true,\n                        id: 'cat',\n                        help: 'Help Please verify your info before'\n                    }\n                ]\n            },\n            {\n                id: 'checboxTransport',\n                type: 'checkbox',\n                label: 'Choix transport',\n                opts: [\n                    {\n                        label: 'Voiture',\n                        id: 'car',\n                        help: 'Il faut bien Ã©crire vous avez affaire avec un prÃ©sident'\n                    },\n                    {\n                        label: 'Bus',\n                        id: 'bus',\n                        tip: 'Ã§a pique',\n                        value: true\n                    }\n                ]\n            },\n            {\n                id: 'switchTest',\n                type: 'switch',\n                label: 'Choix animal',\n                opts: [\n                    {\n                        checkedLabel: 'vole',\n                        uncheckedLabel: 'tombe',\n                        checkedValue: 'fly',\n                        uncheckedValue: 'fall',\n                        value: 'fly',\n                        label: 'Oiseau',\n                        id: 'bird',\n                        help: 'Il faut bien Ã©crire vous avez affaire avec un prÃ©sident',\n                        ctrl: {\n                            checked: [\"flyDescription\"],\n                            unchecked: [\"fallDescription\"]\n                        }\n                    },\n                    {\n                        label: 'Serpent',\n                        id: 'snake',\n                        tip: 'Ã§a pique',\n                        checked: true\n                    },\n                    {\n                        label: 'Elephant',\n                        id: 'elephant',\n                        tip: 'Ã§a pique',\n                        value: 'yes'\n                    }\n                ]\n            },\n            {\n                id: 'switchTestAlone',\n                type: 'switch',\n                label: 'Choix animal alone',\n                opts: [\n                    {\n                        checkedLabel: 'vole alone',\n                        uncheckedLabel: 'tombe alone',\n                        checkedValue: 'fly_alone',\n                        uncheckedValue: 'fall_alone',\n                        value: 'fly_alone',\n                        label: 'Oiseau alone',\n                        help: 'Il faut bien Ã©crire vous avez affaire avec un prÃ©sident',\n                        ctrl: {\n                            checked: [\"flyDescription\"],\n                            unchecked: [\"fallDescription\"]\n                        }\n                    }\n                ]\n            },\n            {\n                type: 'textarea',\n                id: \"flyDescription\",\n                rows: 10,\n                value: 'Un trÃ¨s beau vol que nous avons la, tout Ã  fait aÃ©rodynamique cette chouette!',\n                label: 'Description du vol',\n                multilang: true,\n                required: true,\n                icon: 'fas fa-kiwi-bird',\n                tip: 'PrÃ©cisez l\\'oiseau svp',\n                help: 'Help Please verify your info before',\n            },\n            {\n                type: 'textarea',\n                id: \"fallDescription\",\n                rows: 10,\n                value: 'Quelle chute c\\'est fantastique l\\'oiseau a littÃ©ralement EXPLOSÃ© wow!',\n                label: 'Description de la chute',\n                multilang: true,\n                required: true,\n                icon: 'fas fa-bomb',\n                tip: 'PrÃ©cisez l\\'oiseau svp',\n                help: 'Help Please verify your info before',\n            },\n            {\n                type: 'hr',\n                icon: 'fas fa-plane',\n                label: 'Take your plane',\n                help: 'Please verify your info before'\n            },\n            {\n                icon: 'fas fa-running',\n                type: 'button',\n                color: 'danger',\n                class: 'btn-block btn-lg',\n                title: 'GO !',\n                onclick: 'dosomething',\n                waitValid: true,\n                tip: 'Tip Please verify your info before',\n                help: 'Help Please verify your info before',\n            },\n            {\n                id: 'i4',\n                type: 'button',\n                size: 23,\n                title: 'Fourth item',\n                icon: 'fas fa-restroom',\n                onclick: 'dosomething'\n            },\n        ]\n    },\n    form2: {\n        attr: {\n            lang: 'fr',\n            langs: ['fr', 'en'],\n            proposeTranslate: true\n        },\n        desc: [\n            {\n                id: 'switchTestAlone',\n                type: 'switch',\n                label: 'Choix animal alone',\n                opts: [\n                    {\n                        checkedLabel: 'vole alone',\n                        uncheckedLabel: 'tombe alone',\n                        checkedValue: 'fly_alone',\n                        uncheckedValue: 'fall_alone',\n                        value: 'fly_alone',\n                        label: 'Oiseau alone',\n                        help: 'Il faut bien Ã©crire vous avez affaire avec un prÃ©sident',\n                        ctrl: {\n                            checked: [\"flyDescription\"],\n                            unchecked: [\"fallDescription\"]\n                        }\n                    }\n                ]\n            },\n            {\n                type: 'textarea',\n                id: \"flyDescription\",\n                rows: 10,\n                value: 'Un trÃ¨s beau vol que nous avons la, tout Ã  fait aÃ©rodynamique cette chouette!',\n                label: 'Description du vol',\n                multilang: true,\n                required: true,\n                icon: 'fas fa-kiwi-bird',\n                tip: 'PrÃ©cisez l\\'oiseau svp',\n                help: 'Help Please verify your info before',\n            },\n            {\n                type: 'textarea',\n                id: \"fallDescription\",\n                rows: 10,\n                value: 'Quelle chute c\\'est fantastique l\\'oiseau a littÃ©ralement EXPLOSÃ© wow!',\n                label: 'Description de la chute',\n                multilang: true,\n                required: true,\n                icon: 'fas fa-bomb',\n                tip: 'PrÃ©cisez l\\'oiseau svp',\n                help: 'Help Please verify your info before',\n            }\n        ]\n    }\n}\n\nriot.register('app', App)\nriot.mount('app')\n","<app>\r\n    <div class=\"container\">\r\n        <formr id=\"form1\"></formr>\r\n        <formr id=\"form2\"></formr>\r\n    </div>\r\n</app>\r\n"],"names":["checkField","field","i","id","[object Object]","this","state","desc","window","fields","props","attr","ctrlRun","callType","type","indexOf","push","size","value","update","ev","targetForm","target","closest","name","feedBackElt","querySelector","feedBackMsgElt","validity","isValid","valid","msgs","msg","disabled","valueMissing","typeMismatch","tooShort","minLength","length","tooLong","maxLength","badInput","stepMismatch","rangeOverflow","max","rangeUnderflow","min","patternMismatch","getAttribute","self","forEach","m","i18n","innerHTML","nbInvalidFields","querySelectorAll","console","log","e","formName","formElt","selector","node","document","getElementsByName","elt","split","checked","classList","remove","add","getFormValues","setFormValues","data","validate","er","seter","color","class","message","tip","help","action","param","event","alert","title","onclick","waitValid","isChecked","option","checkedValue","ctrlToString","which","ctrl","join","uncheckedLabel","checkedLabel","label","uncheckedValue","buildId","formId","pickr","Pickr","create","el","theme","comparison","swatches","components","preview","opacity","hue","interaction","hex","rgba","hsla","hsva","cmyk","input","clear","save","cancel","strings","on","instance","setColor","_root","root","toRGBA","toString","hide","addEventListener","detail","datetimepicker","flatpickr","allowInput","enableTime","dateFormat","altInput","altFormat","defaultDate","locale","lang","setDate","epoch","step","multiple","tag","selectr","Selectr","taggable","userAddOption","setValue","values","selected","Array","isArray","isSelected","currentLang","langs","defaultLang","multilang","attributes","idLang","langName","btnLangColor","selectLang","index","rows","proposeTranslate","translate","container","editor","Quill","modules","toolbar","header","background","align","list","script","indent","direction","font","getContents","getText","content","separator","required","obj","fieldPath","undefined","tokens","subObj","firstDot","substr","arr","slice","riot","install","component","updateAll","dispatchEvent","Event","fr","en","selectIcon","ret","icon","toLowerCase","autoIcons","tags","logon","address","url","google","twitter","facebook","date","month","datetime","tel","mail","email","password","number","button","possibleId","types","text","checkbox","eltFromId","eltFromValue","register","formr","ialert","ibutton","icheckbox","icolorpicker","idatetimepicker","ihr","iradio","irange","irow","iselect","itext","itexteditor","placement","buttons","jlabel","jtooltip","options","filter","x","map","val","setSelectrEvent","CustomEvent","prototype","call","opt","setColorEvent","setDatetimeEvent","setTexteditorEvent","entries","exports","exported","mydatetimepicker","checboxTransport","car","bus","emailInrRow","fallDescription","mayrange","flyDescription","genre","music","mycolor","mydate","mypassword","mytextarea","mytextedit","mytextwithbuttons","passwordInRow","radioAnimal","switchTest","bird","snake","elephant","switchTestAlone","form1","opts","aaaselected","onchange","oninput","minlength","pattern","patternInfo","achecked","unchecked","form2","mount"],"mappings":"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"}